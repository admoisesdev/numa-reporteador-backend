import { pgTable, varchar, integer, date, decimal } from "drizzle-orm/pg-core";
import { customersTable } from "./customers.schema";

export const contractsTable = pgTable("contratos", {
  id: varchar("id", { length: 50 }).primaryKey(),
  asesor_credito: varchar("asesor_credito", { length: 100 }),
  cantidad_cuota_inicial: decimal("cantidad_cuota_inicial", {precision: 5,scale: 2,}),
  cliente_vendedor: varchar("cliente_vendedor", { length: 100 }),
  cuota_reserv2: decimal("cuota_reserv2", { precision: 15, scale: 2 }),
  cuota_reserv8: decimal("cuota_reserv8", { precision: 15, scale: 2 }),
  descuento: decimal("descuento", { precision: 15, scale: 2 }),
  empresa: varchar("empresa", { length: 100 }),
  estado: varchar("estado", { length: 20 }),
  fecha_cierre: date("fecha_cierre"),
  fecha_creacion: date("fecha_creacion"),
  fecha_reserva: date("fecha_reserva"),
  financiamiento_idvigente: integer("financiamiento_idvigente"),
  int_mora_pagar: decimal("int_mora_pagar", { precision: 15, scale: 2 }),
  moneda: varchar("moneda", { length: 10 }),
  plazo_ce: integer("plazo_ce"),
  porcentaje_cobrado: decimal("porcentaje_cobrado", { precision: 15, scale: 2 }),
  precio_lista: decimal("precio_lista", { precision: 15, scale: 2 }),
  precioventa: decimal("precioventa", { precision: 15, scale: 2 }),
  proyecto: varchar("proyecto", { length: 100 }),
  saldo_ce: decimal("saldo_ce", { precision: 15, scale: 2 }),
  tipo_contratoid: varchar("tipo_contratoid", { length: 50 }),
  tipo_producto: varchar("tipo_producto", { length: 50 }),
  ubicacion: varchar("ubicacion", { length: 100 }),
  valor_canc_cheq: decimal("valor_canc_cheq", { precision: 15, scale: 2 }),
  valor_canc_mora: decimal("valor_canc_mora", { precision: 15, scale: 2 }),
  valor_canc_pago_exced: decimal("valor_canc_pago_exced", { precision: 15, scale: 2 }),
  valor_contrato: decimal("valor_contrato", { precision: 15, scale: 2 }),
  valor_documentos_vencidos: decimal("valor_documentos_vencidos", {precision: 15,scale: 2,}),
  valor_nc: decimal("valor_nc", { precision: 15, scale: 2 }),
  valor_neto_cancel: decimal("valor_neto_cancel", { precision: 15, scale: 2 }),
  valor_por_vencer: decimal("valor_por_vencer", { precision: 15, scale: 2 }),
  valor_reserva: decimal("valor_reserva", { precision: 15, scale: 2 }),
  valor_saldo: decimal("valor_saldo", { precision: 15, scale: 2 }),
  valor_total_cob_client: decimal("valor_total_cob_client", { precision: 15, scale: 2 }),
  valor_total_vencido: decimal("valor_total_vencido", { precision: 15, scale: 2 }),
  valor_total_descuento: decimal("valor_total_descuento", { precision: 15, scale: 2 }),
  cliente_id: integer("cliente_id").references(() => customersTable.id),
});

export type InsertContracts = typeof contractsTable.$inferInsert;
export type SelectContracts = typeof contractsTable.$inferSelect;
